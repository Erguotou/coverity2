language: c
script: make -C Debug

env:
  global:
   # The next declaration is the encrypted COVERITY_SCAN_TOKEN, created
   #   via the "travis encrypt" command using the project repo's public key
    - secure: "GnBlvcVkgqRypRYYSOUiXG8CZU8PBFBrSMkt66ErQP8mCiMEG7O+X7QGlDgcW/a2uhG6gzcX6WcnXsyHoRK3z3llQx9uchZ5n0AhEzkxh8ZzJW4lYGKcIX4boR4MgeuooN3xksVciORQxDAdXI6itr4RMzQHMTx/2vAyQ8v+QQnG92ZqN9wuh812lAE+nbM9gqeabDQ9gFxaRQHks8oWMFBXJ9HlH4bW0w9VWT0rS+UG/oDSxcufAF1cm3ej/uzQIMC45EeiCSx1hw0KDSy3b6ImZPDEhaFHp6q1wrFL7GG1TvnezHmePoSYhy0J0ESLumniH50ghyogypPt9CIbaAkXjbNwbiQ0gBv7C+c+k8DxxBjnGe06ZF3F7PidsW/WrUP3TdkXXTnj+dETXt27hQvr9k7uBKCvnAH5srLm7eCXee4xGPhCDOazwpfra6zhwmL9a5Fx+9z5yWjp3tN4XbdrQu54Mn3wI4/aKFoiKY/jwHxPs60jg9TRP1Kk/ckta5wTWwtE+vNmrM2EWD35+S6bRkr62P32NPsjhyQYNwoXMFMg25M2Z8oJy3lOIf88zGbOjPEBbV9rs3tK0udNIJWjYmWXIubkW3yVJJI0ZLrRqfm3Mp5JJCIDH8qGt6cf0lVnmpBNbqQujY82MSa777Cun2lvrjF4eLd5JzpuhNE="
 
before_install:
  - echo -n | openssl s_client -connect scan.coverity.com:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' | sudo tee -a /etc/ssl/certs/ca-

addons:
  coverity_scan:
    project:
      name: "Erguotou/coverity2"
      description: "<Your project description here>"
    notification_email: jeromeliang@hotmail.com
    build_command_prepend: ""
    build_command: "make -C Debug"
    branch_pattern: master